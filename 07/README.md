# Задание №6: Очереди сообщений POSIX

## Текст задания

Написать две программы, использующие одну очередь сообщений для двухстороннего взаимодействия (персональный чат).
Сообщения отправляются по очереди (пинг-понг).
Для завершения обмена предусмотреть отправку данных с заранее известным приоритетом.

## Описание решения

### Правила

1. Первым всегда отправляет сообщение клиент.
2. Клиент и сервер могут отправлять сообщения лишь в ответ на сообщения друг друга.
3. Сообщения от клиента к серверу имеют приоритет 1, от сервера к клиенту приоритет - 2, для завершения работы приоритет - 3.
4. Для завершения работы чата используется слово "exit".

### pp.h

Содержит в себе реализацию сервера и клиента и макросы необходимые для работы функций.

### void start_server()

Данная функция создаёт, либо подключается к уже существующему каналу и ждёт сообщения от клиента. После получения сообщения даёт пользователю возможность ввести сообщение для клиента, отправляет его и снова ждёт сообщение от клиента. Так продолжается до тех пор, пока один из собеседников не отправит слово exit.

### void start_client()

Данная функция подключается к уже существующему каналу и даёт возможность пользователю отправить сообщение серверу, после чего ждёт сообщения от сервера. После получения сообщения от сервера всё повторяется до тех пор, пока один из собеседников не отправит слово exit.

## Сборка и запуск

``` bash
$ make
...
$ ./server
```

``` bash
$ ./client
```